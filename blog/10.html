<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2023-02-15 Wed 23:14 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>SICP. 1.3.2&#x2013;1.3.4</title>
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<link rel="stylesheet" type="text/css" href="./style.css"/>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="content" class="content">
<h1 class="title">SICP. 1.3.2&#x2013;1.3.4
<br />
<span class="subtitle">2023-02-15 Wed</span>
</h1>

<div id="outline-container-org5fb7850" class="outline-2">
<h2 id="org5fb7850">1.3.2 Constructing Procedures Using <code>Lambda</code></h2>
<div class="outline-text-2" id="text-org5fb7850">
<p>
The mystical λ seen on the cover comes on stage. Procedures can be
created without giving them a name:
</p>

<div class="org-src-container">
<pre class="src src-scheme">(<span style="color: #b9ca4a;">lambda</span> (x) (+ x 4)) <span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">a procedure that adds 4 to its argument</span>
</pre>
</div>

<p>
This allows us, for example, to define <code>integral</code> in this way:
</p>
<div class="org-src-container">
<pre class="src src-scheme">(<span style="color: #b9ca4a;">define</span> (<span style="color: #e78c45;">integral</span> f a b dx)
  (* (sum f (+ a (/ dx 2.0))
          (<span style="color: #b9ca4a;">lambda</span> (x) (+ x dx))
          b)
     dx))
</pre>
</div>

<p>
instead of doing it in this way:
</p>
<div class="org-src-container">
<pre class="src src-scheme">(<span style="color: #b9ca4a;">define</span> (<span style="color: #e78c45;">integral</span> f a b dx)
  (<span style="color: #b9ca4a;">define</span> (<span style="color: #e78c45;">add-dx</span> x) (+ x dx))
  (* (sum f (+ a (/ dx 2.0)) add-dx b)
     dx))
</pre>
</div>

<p>
Notice that saying
</p>
<div class="org-src-container">
<pre class="src src-scheme">(<span style="color: #b9ca4a;">define</span> (<span style="color: #e78c45;">plus4</span> x) (+ x 4))
</pre>
</div>

<p>
is equivalent to say
</p>
<div class="org-src-container">
<pre class="src src-scheme">(<span style="color: #b9ca4a;">define</span> <span style="color: #e78c45;">plus4</span> (<span style="color: #b9ca4a;">lambda</span> (x) (+ x 4)))
</pre>
</div>

<p>
<code>Lambda</code> can be used to bind local variables:
</p>
<div class="org-src-container">
<pre class="src src-scheme">(<span style="color: #b9ca4a;">define</span> (<span style="color: #e78c45;">f</span> x y)
  ((<span style="color: #b9ca4a;">lambda</span> (a b)
     (+ (* x (square a))
        (* y b)
        (* a b)))
   (+ 1 (* x y))
   (- 1 y)))
</pre>
</div>

<p>
This is so useful that Scheme provides a special form, <code>let</code>, for
achieving the same result:
</p>

<div class="org-src-container">
<pre class="src src-scheme">(<span style="color: #b9ca4a;">define</span> (<span style="color: #e78c45;">f</span> x y)
  (<span style="color: #b9ca4a;">let</span> ((a (+ 1 (* x y)))
        (b (- 1 y)))
    (+ (* x (square a))
       (* y b)
       (* a b))))
</pre>
</div>

<p>
<code>Let</code> is nothing more than syntactic sugar.
</p>
</div>
</div>

<div id="outline-container-org540cb88" class="outline-2">
<h2 id="org540cb88">Exercise 1.34</h2>
<div class="outline-text-2" id="text-org540cb88">
<p>
<b>Exercise</b>:
</p>

<blockquote>
<p>
Suppose we define the procedure
</p>

<div class="org-src-container">
<pre class="src src-scheme">(<span style="color: #b9ca4a;">define</span> (<span style="color: #e78c45;">f</span> g) (g 2))
</pre>
</div>

<p>
Then we have
</p>

<div class="org-src-container">
<pre class="src src-scheme">(f square)
4

(f (<span style="color: #b9ca4a;">lambda</span> (z) (* z (+ z 1))))
6
</pre>
</div>

<p>
What happens if we (perversely) ask the interpreter to evaluate the
combination (f f)? Explain?
</p>
</blockquote>

<p>
<b>Answer</b>:
</p>

<p>
According to the substitution model:
</p>
<pre class="example">
(f f)
(f 2)
(2 2)
</pre>

<p>
In `(2 2)`, `2` is used as if it denoted a procedure. But `2` does
not denote a procedure. `2` denotes a number. So, I predict that the
interpreter will complain about this.
</p>

<p>
In fact, when trying to evaluate the combination, DrRacket says:
</p>
<blockquote>
<p>
application: not a procedures;
expected a procedures that can be applied to arguments
given: 2
</p>
</blockquote>
</div>
</div>

<div id="outline-container-org3137957" class="outline-2">
<h2 id="org3137957">1.3.3 Procedures as General Methods</h2>
<div class="outline-text-2" id="text-org3137957">
<p>
The authors discuss here two examples of how <code>lambda</code> can be used (to
write ``procedures used express general methods of computation,
independent of the particular functions involved''.).
</p>

<p>
The exercises are a bit mathematically heavy. I'm skipping them.
</p>
</div>
</div>
<div id="outline-container-orgddc5d47" class="outline-2">
<h2 id="orgddc5d47">1.3.4 Procedures as Returned Values</h2>
<div class="outline-text-2" id="text-orgddc5d47">
<p>
Procedures can not only take procedures as their arguments, but also
return procedures&#x2026;
</p>
</div>
</div>
<div id="outline-container-org64da205" class="outline-2">
<h2 id="org64da205">Exercise 1.41</h2>
<div class="outline-text-2" id="text-org64da205">
<p>
<b>Exercise</b>:
</p>

<blockquote>
<p>
Define a procedure double that takes a procedure of one argument as
argument and returns a procedure that applies the original procedure
twice. For example, if <code>inc</code> is a procedure that adds 1 to its
argument, then <code>(double inc)</code> should be a procedure that adds 2. What
value is returned by
</p>

<div class="org-src-container">
<pre class="src src-scheme">(((double (double double)) inc) 5)
</pre>
</div>
</blockquote>

<p>
<b>Answer</b>:
</p>

<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">(((double (double double)) inc) 5)</span>

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">(double inc) =&gt; (lambda (x) (inc (inc x)))</span>

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">(double double) =&gt; (lambda (x) (double (double x)))</span>

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">(double (double double)) =&gt;</span>
<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">(lambda (x) ((lambda (x) (double (double x)))</span>
<span style="color: #969896; font-style: italic;">;;             </span><span style="color: #969896; font-style: italic;">((lambda (x) (double (double x))) x)))</span>

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">so:</span>

((double (double double) inc))

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">=&gt;</span>

((<span style="color: #b9ca4a;">lambda</span> (x) (double (double x)))
 (double (double inc)))

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">=&gt;</span>

((<span style="color: #b9ca4a;">lambda</span> (x) (double (double x)))
 (double (<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))))

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">=&gt;</span>

((<span style="color: #b9ca4a;">lambda</span> (x) (double (double x)))
 (<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
              ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x))))

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">=&gt;</span>

(double (double (<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
                             ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x)))))

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">=&gt;</span>

(double (<span style="color: #b9ca4a;">lambda</span> (x)
          ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
                        ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x)))
           ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
                         ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x))) x))))

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">=&gt;</span>

(<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x)
               ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
                             ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x)))
                ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
                              ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x))) x)))
             ((<span style="color: #b9ca4a;">lambda</span> (x)
                ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
                              ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x)))
                 ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
                               ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x))) x)))
              x)))

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">now let's apply that lambda to 5:</span>
((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x)
                ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
                              ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x)))
                 ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
                               ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x))) x)))
              ((<span style="color: #b9ca4a;">lambda</span> (x)
                 ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
                               ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x)))
                  ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
                                ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x))) x)))
               x))) 5)

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">=&gt;</span>

((<span style="color: #b9ca4a;">lambda</span> (x)
   ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
                 ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x)))
    ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
                  ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x))) x)))
 ((<span style="color: #b9ca4a;">lambda</span> (x)
    ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
                  ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x)))
     ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
                   ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x))) x)))
  5))

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">=&gt;</span>

((<span style="color: #b9ca4a;">lambda</span> (x)
   ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
                 ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x)))
    ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
                  ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x))) x)))
 ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
               ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x)))
  ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
                ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x))) 5)))

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">=&gt;</span>

((<span style="color: #b9ca4a;">lambda</span> (x)
   ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
                 ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x)))
    ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
                  ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x))) x)))
 ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
               ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x)))
  ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
   ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) 5))))

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">=&gt;</span>

((<span style="color: #b9ca4a;">lambda</span> (x)
   ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
                 ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x)))
    ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
                  ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x))) x)))
 ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
               ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x)))
  ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
   (inc (inc 5)))))

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">=&gt;</span>

((<span style="color: #b9ca4a;">lambda</span> (x)
   ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
                 ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x)))
    ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
                  ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x))) x)))
 ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
               ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x)))
  ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
   (inc 6))))

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">=&gt;</span>

((<span style="color: #b9ca4a;">lambda</span> (x)
   ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
                 ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x)))
    ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
                  ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x))) x)))
 ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
               ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x)))
  ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
   7)))

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">=&gt;</span>

((<span style="color: #b9ca4a;">lambda</span> (x)
   ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
                 ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x)))
    ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
                  ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x))) x)))
 ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
               ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x)))
  (inc (inc 7))))

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">=&gt;</span>

((<span style="color: #b9ca4a;">lambda</span> (x)
   ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
                 ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x)))
    ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
                  ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x))) x)))
 ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
               ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x)))
  (inc 8)))

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">=&gt;</span>

((<span style="color: #b9ca4a;">lambda</span> (x)
   ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
                 ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x)))
    ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
                  ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x))) x)))
 ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
               ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x)))
  9))

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">=&gt;</span>

((<span style="color: #b9ca4a;">lambda</span> (x)
   ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
                 ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x)))
    ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
                  ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x))) x)))
 ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
  ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) 9)))

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">=&gt;</span>

((<span style="color: #b9ca4a;">lambda</span> (x)
   ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
                 ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x)))
    ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
                  ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x))) x)))
 ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
  (inc (inc 9))))

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">=&gt;</span>

((<span style="color: #b9ca4a;">lambda</span> (x)
   ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
                 ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x)))
    ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
                  ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x))) x)))
 ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
  (inc 10)))

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">=&gt;</span>

((<span style="color: #b9ca4a;">lambda</span> (x)
   ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
                 ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x)))
    ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
                  ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x))) x)))
 ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
  11))

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">=&gt;</span>

((<span style="color: #b9ca4a;">lambda</span> (x)
   ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
                 ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x)))
    ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
                  ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x))) x)))
 (inc (inc 11)))

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">=&gt;</span>

((<span style="color: #b9ca4a;">lambda</span> (x)
   ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
                 ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x)))
    ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
                  ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x))) x)))
 (inc 12))

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">=&gt;</span>

((<span style="color: #b9ca4a;">lambda</span> (x)
   ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
                 ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x)))
    ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
                  ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x))) x)))
 13)

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">=&gt;</span>

((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
              ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x)))
 ((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
               ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x))) 13))

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">=&gt;</span>

((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
              ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x)))
 ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
  ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) 13)))


<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">=&gt;</span>
((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
              ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x)))
 ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
  (inc (inc 13))))

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">=&gt;</span>

((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
              ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x)))
 ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
  (inc 14)))

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">=&gt;</span>

((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
              ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x)))
 ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
  15))

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">=&gt;</span>

((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
              ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x)))
 (inc (inc 15)))

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">=&gt;</span>

((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
              ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x)))
 (inc 16))

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">=&gt;</span>

((<span style="color: #b9ca4a;">lambda</span> (x) ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
              ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) x)))
 17)

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">=&gt;</span>

((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
 ((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x))) 17))

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">=&gt;</span>

((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
 (inc (inc 17)))

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">=&gt;</span>

((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
 (inc 18))

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">=&gt;</span>

((<span style="color: #b9ca4a;">lambda</span> (x) (inc (inc x)))
 19)

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">=&gt;</span>

(inc (inc 19))

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">=&gt;</span>

(inc 20)

<span style="color: #969896; font-style: italic;">;; </span><span style="color: #969896; font-style: italic;">=&gt;</span>

21

</pre>
</div>
</div>
</div>
<div id="outline-container-orgba53506" class="outline-2">
<h2 id="orgba53506">Exercise 1.42</h2>
<div class="outline-text-2" id="text-orgba53506">
<p>
<b>Exercise</b>:
</p>

<blockquote>
<p>
Let \(f\) and \(g\) be two one-argument functions. The <i>composition</i> \(f\)
after \(g\) is defined to be the function \(x \mapsto f(g(x))\). Define a
procedure <code>compose</code> that implements composition. For example, if <code>inc</code>
is a procedure that adds 1 to its argument,
</p>

<div class="org-src-container">
<pre class="src src-scheme">((compose square inc) 6)
49
</pre>
</div>
</blockquote>

<p>
<b>Answer</b>:
</p>

<div class="org-src-container">
<pre class="src src-scheme">(<span style="color: #b9ca4a;">define</span> (<span style="color: #e78c45;">compose</span> f1 f2)
  (<span style="color: #b9ca4a;">lambda</span> (x) (f1 (f2 x))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org2e864ce" class="outline-2">
<h2 id="org2e864ce">Exercise 1.43</h2>
<div class="outline-text-2" id="text-org2e864ce">
<p>
<b>Exercise</b>:
</p>

<blockquote>
<p>
If \(f\) is a numerical function and \(n\) is a positive integer, then we
can form the \(n^{th}\) repeated application of \(f\), which is defined to
be the function whose value at \(x\) is \(f(f(…(f(x))…))\). For example,
if \(f\) is the function \(x \mapsto x+1\), then the \(n^{th}\) repeated
application of \(f\) is the function \(x \mapsto x+n\). If \(f\) is the
operation of squaring a number, then the \(n^{th}\) repeated application
of \(f\) is the function that raises its argument to the \(2^{n}\) -th
power. Write a procedure that takes as inputs a procedure that
computes \(f\) and a positive integer \(n\) and returns the procedure that
computes the \(n^{th}\) repeated application of \(f\). Your procedure
should be able to be used as follows:
</p>

<div class="org-src-container">
<pre class="src src-scheme">((repeated square 2) 5)
625
</pre>
</div>

<p>
Hint: You may find it convenient to use <code>compose</code> from Exercise 1.42.
</p>
</blockquote>

<p>
<b>Answer</b>:
</p>

<div class="org-src-container">
<pre class="src src-scheme">(<span style="color: #b9ca4a;">define</span> (<span style="color: #e78c45;">repeated</span> f n)
  (<span style="color: #b9ca4a;">cond</span> ((= x 1) f)
        ((= x 2) (compose f f))
        (<span style="color: #b9ca4a;">else</span> (compose f (repeated f (- n 1))))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org076b87d" class="outline-2">
<h2 id="org076b87d">Exercise 1.44</h2>
<div class="outline-text-2" id="text-org076b87d">
<p>
<b>Exercise</b>:
</p>

<blockquote>
<p>
The idea of <i>smoothing</i> a function is an important concept in signal
processing. If \(f\) is a function and \(dx\) is some small number, then
the smoothed version of \(f\) is the function whose value at a point \(x\)
is the average of \(f(x−dx)\), \(f(x)\), and \(f(x+dx)\). Write a procedure
\(smooth\) that takes as input a procedure that computes \(f\) and returns
a procedure that computes the smoothed \(f\). It is sometimes valuable
to repeatedly smooth a function (that is, smooth the smoothed
function, and so on) to obtain the \(n-fold smoothed function\). Show
how to generate the \(n-fold\) smoothed function of any given function
using <code>smooth</code> and <code>repeated</code> from Exercise 1.43.
</p>
</blockquote>

<p>
<b>Answer</b>:
</p>

<div class="org-src-container">
<pre class="src src-scheme">(<span style="color: #b9ca4a;">define</span> (<span style="color: #e78c45;">smooth</span> f)
  (<span style="color: #b9ca4a;">lambda</span> (x)
    (/ 3
       (+ (f (- x 0.01))
          (f x)
          (f (+ x 0.01))))))

(<span style="color: #b9ca4a;">define</span> (<span style="color: #e78c45;">10th-smoothed-f</span> f)
  ((repeated smooth 10) f))
</pre>
</div>
</div>
</div>

<div id="outline-container-org81462c8" class="outline-2">
<h2 id="org81462c8">Exercise 1.46</h2>
<div class="outline-text-2" id="text-org81462c8">
<p>
<b>Exercise</b>:
</p>

<blockquote>
<p>
Several of the numerical methods described in this chapter are
instances of an extremely general computational strategy known as
<i>iterative improvement</i>. Iterative improvement says that, to compute
something, we start with an initial guess for the answer, test if the
guess is good enough, and otherwise improve the guess and continue the
process using the improved guess as the new guess. Write a procedure
<code>iterative-improve</code> that takes two procedures as arguments: a method
for telling whether a guess is good enough and a method for improving
a guess. <code>Iterative-improve</code> should return as its value a procedure that
takes a guess as argument and keeps improving the guess until it is
good enough. Rewrite the sqrt procedure of 1.1.7 and the fixed-point
procedure of 1.3.3 in terms of iterative-improve.
</p>
</blockquote>

<p>
<b>Answer</b>:
</p>

<div class="org-src-container">
<pre class="src src-scheme">(<span style="color: #b9ca4a;">define</span> (<span style="color: #e78c45;">iterative-improve</span> good-enough? improve)
  (<span style="color: #b9ca4a;">define</span> (<span style="color: #e78c45;">iterative-improve-inner</span> guess)
    (<span style="color: #b9ca4a;">if</span> (good-enough? guess) guess
        (iterative-improve-inner (improve guess))))
  (<span style="color: #b9ca4a;">lambda</span> (x) (iterative-improve-inner x)))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-scheme">(<span style="color: #b9ca4a;">define</span> (<span style="color: #e78c45;">sqrt</span> x)
  ((iterative-improve (<span style="color: #b9ca4a;">lambda</span> (guess)
                        (&lt; (abs (- (square guess) x)) 0.001))
                      (<span style="color: #b9ca4a;">lambda</span> (guess)
                        (average guess (/ x guess))))
   1.0))
</pre>
</div>

<div style="text-align: center;">
<a href="./posts.html">←</a>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p>Please, send me an <a href="mailto:giulio.pietroiusti@gmail.com">email</a> if you have any comment.</p> <p>Created with <span class="creator"><a href="https://www.gnu.org/software/emacs/">Emacs</a> 28.2 (<a href="https://orgmode.org">Org</a> mode 9.5.5)</span></p>
</div>
</body>
</html>
